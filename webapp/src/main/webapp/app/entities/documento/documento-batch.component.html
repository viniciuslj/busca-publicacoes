<div class="row justify-content-center">
    <div class="col-8">
        <h2>
            <span jhiTranslate="sbpApp.documento.home.batchLabel"></span>
        </h2>

        <hr>

        <div class="mb-2 mt-5">
            <div *ngFor="let o of options">
                <p-checkbox name="diretorios" [value]="o.nome" [disabled]="isProcessing"
                    [label]="o.nome + ' (' + o.documentos.length + ')'" [(ngModel)]="selecionados">
                </p-checkbox>
            </div>
        </div>

        <div class="mb-2 mt-5" *ngIf="total > 0">
            <p-progressBar [value]="valueProgressBar"></p-progressBar>
            <div class="text-center">
                <label>{{(processados)}} de {{total}}</label>
                <br>
                <label>Erros: {{erros}}</label>
            </div>
            <div class="text-center">
                <label>{{documentoAtual}}...</label>
            </div>
        </div>

        <div class="form-group">
            <label class="form-control-label" jhiTranslate="sbpApp.documento.log" for="field_log"></label>
            <textarea class="form-control" name="log" id="field_log" rows="10" readonly="true" [value]="log"></textarea>
        </div>

        <div>
            <button type="button" id="cancel-save" class="btn btn-secondary"  (click)="previousState()" [disabled]="isProcessing">
                <span jhiTranslate="entity.action.cancel"></span>
            </button>

            <button type="submit" id="save-entity" [disabled]="isProcessing || selecionados?.length < 1" class="btn btn-primary"
                (click)="processar()">
                <fa-icon [icon]="'check'"></fa-icon>&nbsp;<span jhiTranslate="entity.action.process"></span>
            </button>
        </div>
    </div>
</div>
